import type { SurpriseEvent } from '../types';

/**
 * Surprise events for atmospheric immersion
 * These trigger randomly or based on story/proximity conditions
 */
export const SURPRISE_EVENTS: SurpriseEvent[] = [
  // === FOREST EVENTS ===
  {
    id: 'forest_wind_gust',
    type: 'random',
    rooms: ['forest_start', 'forest_path', 'forest_clearing', 'forest_thicket', 'forest_stream'],
    probability: 0.7,
    intervalMin: 20,
    intervalMax: 60,
    soundType: 'ambient',
    soundId: 'windGust',
  },
  {
    id: 'forest_distant_thunder',
    type: 'random',
    rooms: ['forest_clearing', 'forest_path'],
    probability: 0.4,
    intervalMin: 45,
    intervalMax: 120,
    soundType: 'effect',
    soundId: 'distantThunder',
  },
  {
    id: 'forest_creepy_whisper',
    type: 'random',
    rooms: ['forest_thicket'],
    probability: 0.5,
    intervalMin: 30,
    intervalMax: 90,
    soundType: 'effect',
    soundId: 'creepyWhisper',
  },

  // === CAVE EVENTS ===
  {
    id: 'cave_deep_rumble',
    type: 'random',
    rooms: ['cave_hall', 'cave_crossroads', 'cave_chasm', 'cave_deep'],
    probability: 0.5,
    intervalMin: 30,
    intervalMax: 90,
    soundType: 'effect',
    soundId: 'deepRumble',
  },
  {
    id: 'cave_stone_shift',
    type: 'random',
    rooms: ['cave_tunnel', 'cave_crossroads'],
    probability: 0.4,
    intervalMin: 40,
    intervalMax: 100,
    soundType: 'effect',
    soundId: 'stoneShift',
  },
  {
    id: 'cave_heartbeat',
    type: 'proximity',
    rooms: ['cave_chasm', 'cave_deep'],
    proximityTarget: 'ship_airlock',
    intervalMin: 25,
    soundType: 'effect',
    soundId: 'heartbeat',
  },

  // === SHIP EVENTS ===
  {
    id: 'ship_metal_groan',
    type: 'random',
    rooms: ['ship_airlock', 'ship_corridor', 'ship_bridge', 'ship_engineering', 'ship_reactor'],
    probability: 0.6,
    intervalMin: 25,
    intervalMax: 70,
    soundType: 'effect',
    soundId: 'metalGroan',
  },
  {
    id: 'ship_static_burst',
    type: 'random',
    rooms: ['ship_bridge', 'ship_corridor', 'ship_quarters'],
    probability: 0.5,
    intervalMin: 20,
    intervalMax: 60,
    soundType: 'effect',
    soundId: 'staticBurst',
  },
  {
    id: 'ship_alien_chirp',
    type: 'random',
    rooms: ['ship_secret', 'ship_reactor', 'cave_deep'],
    probability: 0.4,
    intervalMin: 35,
    intervalMax: 90,
    soundType: 'effect',
    soundId: 'alienChirp',
  },
  {
    id: 'ship_machine_awaken',
    type: 'story',
    rooms: ['ship_engineering'],
    once: true,
    condition: 'hasItem:power_cell',
    soundType: 'ambient',
    soundId: 'machineAwaken',
  },

  // === TEMPLE EVENTS ===
  {
    id: 'temple_stone_shift',
    type: 'random',
    rooms: ['temple_main_hall', 'temple_crypt_stairs', 'temple_crypt'],
    probability: 0.5,
    intervalMin: 30,
    intervalMax: 80,
    soundType: 'effect',
    soundId: 'stoneShift',
  },
  {
    id: 'temple_distant_voices',
    type: 'random',
    rooms: ['temple_main_hall', 'temple_sanctuary', 'temple_inner_sanctum'],
    probability: 0.4,
    intervalMin: 40,
    intervalMax: 100,
    soundType: 'ambient',
    soundId: 'distantVoices',
  },
  {
    id: 'temple_wind_gust',
    type: 'random',
    rooms: ['temple_antechamber', 'temple_crypt_stairs', 'temple_observatory'],
    probability: 0.5,
    intervalMin: 25,
    intervalMax: 70,
    soundType: 'ambient',
    soundId: 'windGust',
  },
  {
    id: 'temple_heartbeat_crypt',
    type: 'random',
    rooms: ['temple_crypt'],
    probability: 0.3,
    intervalMin: 45,
    intervalMax: 120,
    soundType: 'effect',
    soundId: 'heartbeat',
  },

  // === CELESTIAL EVENTS ===
  {
    id: 'celestial_crystal_chime',
    type: 'random',
    rooms: ['celestial_garden', 'celestial_fountain', 'celestial_spire', 'celestial_archive'],
    probability: 0.6,
    intervalMin: 20,
    intervalMax: 50,
    soundType: 'effect',
    soundId: 'crystalChime',
  },
  {
    id: 'celestial_ethereal_choir',
    type: 'random',
    rooms: ['celestial_throne', 'celestial_oracle', 'celestial_transcendence'],
    probability: 0.5,
    intervalMin: 35,
    intervalMax: 90,
    soundType: 'effect',
    soundId: 'etherealChoir',
  },
  {
    id: 'celestial_cosmic_hum',
    type: 'random',
    rooms: ['celestial_void_edge', 'celestial_bridge', 'celestial_resonance'],
    probability: 0.6,
    intervalMin: 30,
    intervalMax: 70,
    soundType: 'ambient',
    soundId: 'cosmicHum',
  },
  {
    id: 'celestial_void_whisper',
    type: 'random',
    rooms: ['celestial_void_edge', 'celestial_echo_chamber'],
    probability: 0.4,
    intervalMin: 40,
    intervalMax: 100,
    soundType: 'effect',
    soundId: 'creepyWhisper',
  },

  // === STORY EVENTS (one-time atmospheric moments) ===
  {
    id: 'story_first_cave',
    type: 'story',
    rooms: ['cave_entrance'],
    once: true,
    soundType: 'voice',
    voiceText: 'The darkness deepens. You feel the weight of the earth above.',
  },
  {
    id: 'story_first_ship',
    type: 'story',
    rooms: ['ship_corridor'],
    once: true,
    soundType: 'voice',
    voiceText: 'Metal walls. Alien symbols. You are not alone in the universe.',
  },
  {
    id: 'story_first_temple',
    type: 'story',
    rooms: ['temple_antechamber'],
    once: true,
    soundType: 'voice',
    voiceText: 'Ancient stone. Sacred silence. Something watches from the shadows.',
  },
  {
    id: 'story_first_celestial',
    type: 'story',
    rooms: ['celestial_arrival'],
    once: true,
    soundType: 'voice',
    voiceText: 'You have left the mortal world behind. What lies ahead transcends understanding.',
  },
];
